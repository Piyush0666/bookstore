{"ast":null,"code":"import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { DayOfWeek, FirstWeekOfYear, DateRangeType, addMonths, addYears, DEFAULT_CALENDAR_STRINGS, DEFAULT_DATE_FORMATTING } from '@fluentui/date-time-utilities';\nimport { CalendarDay } from './CalendarDay/CalendarDay';\nimport { CalendarMonth } from './CalendarMonth/CalendarMonth';\nimport { css, KeyCodes, classNamesFunction, focusAsync, format, FocusRects, getPropsWithDefaults, getWindow } from '@fluentui/utilities';\nimport { useControllableValue } from '@fluentui/react-hooks';\nimport { defaultCalendarNavigationIcons } from './defaults';\nvar MIN_SIZE_FORCE_OVERLAY = 440;\nvar getClassNames = classNamesFunction();\nvar defaultWorkWeekDays = [DayOfWeek.Monday, DayOfWeek.Tuesday, DayOfWeek.Wednesday, DayOfWeek.Thursday, DayOfWeek.Friday];\nvar DEFAULT_PROPS = {\n  isMonthPickerVisible: true,\n  isDayPickerVisible: true,\n  showMonthPickerAsOverlay: false,\n  today: new Date(),\n  firstDayOfWeek: DayOfWeek.Sunday,\n  dateRangeType: DateRangeType.Day,\n  showGoToToday: true,\n  strings: DEFAULT_CALENDAR_STRINGS,\n  highlightCurrentMonth: false,\n  highlightSelectedMonth: false,\n  navigationIcons: defaultCalendarNavigationIcons,\n  showWeekNumbers: false,\n  firstWeekOfYear: FirstWeekOfYear.FirstDay,\n  dateTimeFormatter: DEFAULT_DATE_FORMATTING,\n  showSixWeeksByDefault: false,\n  workWeekDays: defaultWorkWeekDays,\n  showCloseButton: false,\n  allFocusable: false\n};\n\nfunction useDateState(_a) {\n  var value = _a.value,\n      _b = _a.today,\n      today = _b === void 0 ? new Date() : _b,\n      onSelectDate = _a.onSelectDate;\n  /** The currently selected date in the calendar */\n\n  var _c = useControllableValue(value, today),\n      _d = _c[0],\n      selectedDate = _d === void 0 ? today : _d,\n      setSelectedDate = _c[1];\n  /** The currently focused date in the day picker, but not necessarily selected */\n\n\n  var _e = React.useState(value),\n      _f = _e[0],\n      navigatedDay = _f === void 0 ? today : _f,\n      setNavigatedDay = _e[1];\n  /** The currently focused date in the month picker, but not necessarily selected */\n\n\n  var _g = React.useState(value),\n      _h = _g[0],\n      navigatedMonth = _h === void 0 ? today : _h,\n      setNavigatedMonth = _g[1];\n  /** If using a controlled value, when that value changes, navigate to that date */\n\n\n  var _j = React.useState(value),\n      _k = _j[0],\n      lastSelectedDate = _k === void 0 ? today : _k,\n      setLastSelectedDate = _j[1];\n\n  if (value && lastSelectedDate.valueOf() !== value.valueOf()) {\n    setNavigatedDay(value);\n    setNavigatedMonth(value);\n    setLastSelectedDate(value);\n  }\n\n  var navigateMonth = function (date) {\n    setNavigatedMonth(date);\n  };\n\n  var navigateDay = function (date) {\n    setNavigatedMonth(date);\n    setNavigatedDay(date);\n  };\n\n  var onDateSelected = function (date, selectedDateRangeArray) {\n    setNavigatedMonth(date);\n    setNavigatedDay(date);\n    setSelectedDate(date);\n    onSelectDate === null || onSelectDate === void 0 ? void 0 : onSelectDate(date, selectedDateRangeArray);\n  };\n\n  return [selectedDate, navigatedDay, navigatedMonth, onDateSelected, navigateDay, navigateMonth];\n}\n\nfunction useVisibilityState(props) {\n  /** State used to show/hide month picker */\n  var _a = useControllableValue(getShowMonthPickerAsOverlay(props) ? undefined : props.isMonthPickerVisible, false),\n      _b = _a[0],\n      isMonthPickerVisible = _b === void 0 ? true : _b,\n      setIsMonthPickerVisible = _a[1];\n  /** State used to show/hide day picker */\n\n\n  var _c = useControllableValue(getShowMonthPickerAsOverlay(props) ? undefined : props.isDayPickerVisible, true),\n      _d = _c[0],\n      isDayPickerVisible = _d === void 0 ? true : _d,\n      setIsDayPickerVisible = _c[1];\n\n  var toggleDayMonthPickerVisibility = function () {\n    setIsMonthPickerVisible(!isMonthPickerVisible);\n    setIsDayPickerVisible(!isDayPickerVisible);\n  };\n\n  return [isMonthPickerVisible, isDayPickerVisible, toggleDayMonthPickerVisibility];\n}\n\nfunction useFocusLogic(_a, isDayPickerVisible, isMonthPickerVisible) {\n  var componentRef = _a.componentRef;\n  var dayPicker = React.useRef(null);\n  var monthPicker = React.useRef(null);\n  var focusOnUpdate = React.useRef(false);\n  var focus = React.useCallback(function () {\n    if (isDayPickerVisible && dayPicker.current) {\n      focusAsync(dayPicker.current);\n    } else if (isMonthPickerVisible && monthPicker.current) {\n      focusAsync(monthPicker.current);\n    }\n  }, [isDayPickerVisible, isMonthPickerVisible]);\n  React.useImperativeHandle(componentRef, function () {\n    return {\n      focus: focus\n    };\n  }, [focus]);\n  React.useEffect(function () {\n    if (focusOnUpdate.current) {\n      focus();\n      focusOnUpdate.current = false;\n    }\n  });\n\n  var focusOnNextUpdate = function () {\n    focusOnUpdate.current = true;\n  };\n\n  return [dayPicker, monthPicker, focusOnNextUpdate];\n}\n\nexport var CalendarBase = React.forwardRef(function (propsWithoutDefaults, forwardedRef) {\n  var props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n\n  var _a = useDateState(props),\n      selectedDate = _a[0],\n      navigatedDay = _a[1],\n      navigatedMonth = _a[2],\n      onDateSelected = _a[3],\n      navigateDay = _a[4],\n      navigateMonth = _a[5];\n\n  var _b = useVisibilityState(props),\n      isMonthPickerVisible = _b[0],\n      isDayPickerVisible = _b[1],\n      toggleDayMonthPickerVisibility = _b[2];\n\n  var _c = useFocusLogic(props, isDayPickerVisible, isMonthPickerVisible),\n      dayPicker = _c[0],\n      monthPicker = _c[1],\n      focusOnNextUpdate = _c[2];\n\n  var renderGoToTodayButton = function () {\n    var goTodayEnabled = showGoToToday;\n\n    if (goTodayEnabled && today) {\n      goTodayEnabled = navigatedDay.getFullYear() !== today.getFullYear() || navigatedDay.getMonth() !== today.getMonth() || navigatedMonth.getFullYear() !== today.getFullYear() || navigatedMonth.getMonth() !== today.getMonth();\n    }\n\n    return showGoToToday && React.createElement(\"button\", {\n      className: css('js-goToday', classes.goTodayButton),\n      onClick: onGotoToday,\n      onKeyDown: onButtonKeyDown(onGotoToday),\n      type: \"button\",\n      disabled: !goTodayEnabled\n    }, strings.goToToday);\n  };\n\n  var onNavigateDayDate = function (date, focusOnNavigatedDay) {\n    navigateDay(date);\n\n    if (focusOnNavigatedDay) {\n      focusOnNextUpdate();\n    }\n  };\n\n  var onNavigateMonthDate = function (date, focusOnNavigatedDay) {\n    if (focusOnNavigatedDay) {\n      focusOnNextUpdate();\n    }\n\n    if (!focusOnNavigatedDay) {\n      navigateMonth(date);\n      return;\n    }\n\n    if (monthPickerOnly) {\n      onDateSelected(date);\n    }\n\n    navigateDay(date);\n  };\n\n  var onHeaderSelect = getShowMonthPickerAsOverlay(props) ? function () {\n    toggleDayMonthPickerVisibility();\n    focusOnNextUpdate();\n  } : undefined;\n\n  var onGotoToday = function () {\n    navigateDay(today);\n    focusOnNextUpdate();\n  };\n\n  var onButtonKeyDown = function (callback) {\n    return function (ev) {\n      // eslint-disable-next-line deprecation/deprecation\n      switch (ev.which) {\n        case KeyCodes.enter:\n        case KeyCodes.space:\n          callback();\n          break;\n      }\n    };\n  };\n\n  var onDatePickerPopupKeyDown = function (ev) {\n    var _a; // eslint-disable-next-line deprecation/deprecation\n\n\n    switch (ev.which) {\n      case KeyCodes.enter:\n        ev.preventDefault();\n        break;\n\n      case KeyCodes.backspace:\n        ev.preventDefault();\n        break;\n\n      case KeyCodes.escape:\n        (_a = props.onDismiss) === null || _a === void 0 ? void 0 : _a.call(props);\n        break;\n\n      case KeyCodes.pageUp:\n        if (ev.ctrlKey) {\n          // go to next year\n          navigateDay(addYears(navigatedDay, 1));\n        } else {\n          // go to next month\n          navigateDay(addMonths(navigatedDay, 1));\n        }\n\n        ev.preventDefault();\n        break;\n\n      case KeyCodes.pageDown:\n        if (ev.ctrlKey) {\n          // go to previous year\n          navigateDay(addYears(navigatedDay, -1));\n        } else {\n          // go to previous month\n          navigateDay(addMonths(navigatedDay, -1));\n        }\n\n        ev.preventDefault();\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  var rootClass = 'ms-DatePicker';\n  var firstDayOfWeek = props.firstDayOfWeek,\n      dateRangeType = props.dateRangeType,\n      strings = props.strings,\n      showGoToToday = props.showGoToToday,\n      highlightCurrentMonth = props.highlightCurrentMonth,\n      highlightSelectedMonth = props.highlightSelectedMonth,\n      navigationIcons = props.navigationIcons,\n      minDate = props.minDate,\n      maxDate = props.maxDate,\n      restrictedDates = props.restrictedDates,\n      className = props.className,\n      showCloseButton = props.showCloseButton,\n      allFocusable = props.allFocusable,\n      styles = props.styles,\n      showWeekNumbers = props.showWeekNumbers,\n      theme = props.theme,\n      calendarDayProps = props.calendarDayProps,\n      calendarMonthProps = props.calendarMonthProps,\n      dateTimeFormatter = props.dateTimeFormatter,\n      _d = props.today,\n      today = _d === void 0 ? new Date() : _d;\n  var showMonthPickerAsOverlay = getShowMonthPickerAsOverlay(props);\n  var monthPickerOnly = !showMonthPickerAsOverlay && !isDayPickerVisible;\n  var overlaidWithButton = showMonthPickerAsOverlay && showGoToToday;\n  var classes = getClassNames(styles, {\n    theme: theme,\n    className: className,\n    isMonthPickerVisible: isMonthPickerVisible,\n    isDayPickerVisible: isDayPickerVisible,\n    monthPickerOnly: monthPickerOnly,\n    showMonthPickerAsOverlay: showMonthPickerAsOverlay,\n    overlaidWithButton: overlaidWithButton,\n    overlayedWithButton: overlaidWithButton,\n    showGoToToday: showGoToToday,\n    showWeekNumbers: showWeekNumbers\n  });\n  var todayDateString = '';\n  var selectedDateString = '';\n\n  if (dateTimeFormatter && strings.todayDateFormatString) {\n    todayDateString = format(strings.todayDateFormatString, dateTimeFormatter.formatMonthDayYear(today, strings));\n  }\n\n  if (dateTimeFormatter && strings.selectedDateFormatString) {\n    selectedDateString = format(strings.selectedDateFormatString, dateTimeFormatter.formatMonthDayYear(selectedDate, strings));\n  }\n\n  var selectionAndTodayString = selectedDateString + ', ' + todayDateString;\n  return React.createElement(\"div\", {\n    ref: forwardedRef,\n    role: \"group\",\n    \"aria-label\": selectionAndTodayString,\n    className: css(rootClass, classes.root, className, 'ms-slideDownIn10'),\n    onKeyDown: onDatePickerPopupKeyDown\n  }, React.createElement(\"div\", {\n    className: classes.liveRegion,\n    \"aria-live\": \"polite\",\n    \"aria-atomic\": \"true\"\n  }, React.createElement(\"span\", null, selectedDateString)), isDayPickerVisible && React.createElement(CalendarDay, __assign({\n    selectedDate: selectedDate,\n    navigatedDate: navigatedDay,\n    today: props.today,\n    onSelectDate: onDateSelected,\n    // eslint-disable-next-line react/jsx-no-bind\n    onNavigateDate: onNavigateDayDate,\n    onDismiss: props.onDismiss,\n    firstDayOfWeek: firstDayOfWeek,\n    dateRangeType: dateRangeType,\n    strings: strings,\n    // eslint-disable-next-line react/jsx-no-bind\n    onHeaderSelect: onHeaderSelect,\n    navigationIcons: navigationIcons,\n    showWeekNumbers: props.showWeekNumbers,\n    firstWeekOfYear: props.firstWeekOfYear,\n    dateTimeFormatter: props.dateTimeFormatter,\n    showSixWeeksByDefault: props.showSixWeeksByDefault,\n    minDate: minDate,\n    maxDate: maxDate,\n    restrictedDates: restrictedDates,\n    workWeekDays: props.workWeekDays,\n    componentRef: dayPicker,\n    showCloseButton: showCloseButton,\n    allFocusable: allFocusable\n  }, calendarDayProps)), isDayPickerVisible && isMonthPickerVisible && React.createElement(\"div\", {\n    className: classes.divider\n  }), isMonthPickerVisible ? React.createElement(\"div\", {\n    className: classes.monthPickerWrapper\n  }, React.createElement(CalendarMonth, __assign({\n    navigatedDate: navigatedMonth,\n    selectedDate: navigatedDay,\n    strings: strings,\n    // eslint-disable-next-line react/jsx-no-bind\n    onNavigateDate: onNavigateMonthDate,\n    today: props.today,\n    highlightCurrentMonth: highlightCurrentMonth,\n    highlightSelectedMonth: highlightSelectedMonth,\n    // eslint-disable-next-line react/jsx-no-bind\n    onHeaderSelect: onHeaderSelect,\n    navigationIcons: navigationIcons,\n    dateTimeFormatter: props.dateTimeFormatter,\n    minDate: minDate,\n    maxDate: maxDate,\n    componentRef: monthPicker\n  }, calendarMonthProps)), renderGoToTodayButton()) : renderGoToTodayButton(), React.createElement(FocusRects, null));\n});\nCalendarBase.displayName = 'CalendarBase';\n\nfunction getShowMonthPickerAsOverlay(_a) {\n  var showMonthPickerAsOverlay = _a.showMonthPickerAsOverlay,\n      isDayPickerVisible = _a.isDayPickerVisible;\n  var win = getWindow();\n  return showMonthPickerAsOverlay || isDayPickerVisible && win && win.innerWidth <= MIN_SIZE_FORCE_OVERLAY;\n}","map":{"version":3,"mappings":"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","names":["React","DayOfWeek","FirstWeekOfYear","DateRangeType","addMonths","addYears","DEFAULT_CALENDAR_STRINGS","DEFAULT_DATE_FORMATTING","CalendarDay","CalendarMonth","css","KeyCodes","classNamesFunction","focusAsync","format","FocusRects","getPropsWithDefaults","getWindow","useControllableValue","defaultCalendarNavigationIcons","MIN_SIZE_FORCE_OVERLAY","getClassNames","defaultWorkWeekDays","Monday","Tuesday","Wednesday","Thursday","Friday","DEFAULT_PROPS","isMonthPickerVisible","isDayPickerVisible","showMonthPickerAsOverlay","today","Date","firstDayOfWeek","Sunday","dateRangeType","Day","showGoToToday","strings","highlightCurrentMonth","highlightSelectedMonth","navigationIcons","showWeekNumbers","firstWeekOfYear","FirstDay","dateTimeFormatter","showSixWeeksByDefault","workWeekDays","showCloseButton","allFocusable","useDateState","_a","value","_b","onSelectDate","_d","selectedDate","setSelectedDate","useState","_f","navigatedDay","setNavigatedDay","_h","navigatedMonth","setNavigatedMonth","_k","lastSelectedDate","setLastSelectedDate","valueOf","navigateMonth","date","navigateDay","onDateSelected","selectedDateRangeArray","useVisibilityState","props","getShowMonthPickerAsOverlay","undefined","setIsMonthPickerVisible","setIsDayPickerVisible","toggleDayMonthPickerVisibility","useFocusLogic","componentRef","dayPicker","useRef","monthPicker","focusOnUpdate","focus","useCallback","current","useImperativeHandle","useEffect","focusOnNextUpdate","CalendarBase","forwardRef","propsWithoutDefaults","forwardedRef","renderGoToTodayButton","goTodayEnabled","getFullYear","getMonth","className","classes","goTodayButton","onClick","onGotoToday","onKeyDown","onButtonKeyDown","type","disabled","goToToday","onNavigateDayDate","focusOnNavigatedDay","onNavigateMonthDate","monthPickerOnly","onHeaderSelect","callback","ev","which","enter","space","onDatePickerPopupKeyDown","preventDefault","backspace","escape","onDismiss","pageUp","ctrlKey","pageDown","rootClass","minDate","maxDate","restrictedDates","styles","theme","calendarDayProps","calendarMonthProps","overlaidWithButton","overlayedWithButton","todayDateString","selectedDateString","todayDateFormatString","formatMonthDayYear","selectedDateFormatString","selectionAndTodayString","ref","role","root","liveRegion","__assign","navigatedDate","onNavigateDate","divider","monthPickerWrapper","displayName","win","innerWidth"],"sources":["C:\\Users\\Admin\\Desktop\\bookstore\\frontend\\node_modules\\@fluentui\\react\\lib\\components\\src\\components\\Calendar\\Calendar.base.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  DayOfWeek,\n  FirstWeekOfYear,\n  DateRangeType,\n  addMonths,\n  addYears,\n  DEFAULT_CALENDAR_STRINGS,\n  DEFAULT_DATE_FORMATTING,\n} from '@fluentui/date-time-utilities';\nimport { CalendarDay } from './CalendarDay/CalendarDay';\nimport { CalendarMonth } from './CalendarMonth/CalendarMonth';\nimport {\n  css,\n  KeyCodes,\n  classNamesFunction,\n  focusAsync,\n  format,\n  FocusRects,\n  getPropsWithDefaults,\n  getWindow,\n} from '@fluentui/utilities';\nimport { useControllableValue } from '@fluentui/react-hooks';\nimport { defaultCalendarNavigationIcons } from './defaults';\nimport type { ICalendarProps, ICalendarStyleProps, ICalendarStyles } from './Calendar.types';\nimport type { ICalendarDay } from './CalendarDay/CalendarDay.types';\nimport type { ICalendarMonth } from './CalendarMonth/CalendarMonth.types';\n\nconst MIN_SIZE_FORCE_OVERLAY = 440;\n\nconst getClassNames = classNamesFunction<ICalendarStyleProps, ICalendarStyles>();\n\nconst defaultWorkWeekDays: DayOfWeek[] = [\n  DayOfWeek.Monday,\n  DayOfWeek.Tuesday,\n  DayOfWeek.Wednesday,\n  DayOfWeek.Thursday,\n  DayOfWeek.Friday,\n];\n\nconst DEFAULT_PROPS: Partial<ICalendarProps> = {\n  isMonthPickerVisible: true,\n  isDayPickerVisible: true,\n  showMonthPickerAsOverlay: false,\n  today: new Date(),\n  firstDayOfWeek: DayOfWeek.Sunday,\n  dateRangeType: DateRangeType.Day,\n  showGoToToday: true,\n  strings: DEFAULT_CALENDAR_STRINGS,\n  highlightCurrentMonth: false,\n  highlightSelectedMonth: false,\n  navigationIcons: defaultCalendarNavigationIcons,\n  showWeekNumbers: false,\n  firstWeekOfYear: FirstWeekOfYear.FirstDay,\n  dateTimeFormatter: DEFAULT_DATE_FORMATTING,\n  showSixWeeksByDefault: false,\n  workWeekDays: defaultWorkWeekDays,\n  showCloseButton: false,\n  allFocusable: false,\n};\n\nfunction useDateState({ value, today = new Date(), onSelectDate }: ICalendarProps) {\n  /** The currently selected date in the calendar */\n  const [selectedDate = today, setSelectedDate] = useControllableValue(value, today);\n\n  /** The currently focused date in the day picker, but not necessarily selected */\n  const [navigatedDay = today, setNavigatedDay] = React.useState(value);\n\n  /** The currently focused date in the month picker, but not necessarily selected */\n  const [navigatedMonth = today, setNavigatedMonth] = React.useState(value);\n\n  /** If using a controlled value, when that value changes, navigate to that date */\n  const [lastSelectedDate = today, setLastSelectedDate] = React.useState(value);\n  if (value && lastSelectedDate.valueOf() !== value.valueOf()) {\n    setNavigatedDay(value);\n    setNavigatedMonth(value);\n    setLastSelectedDate(value);\n  }\n\n  const navigateMonth = (date: Date) => {\n    setNavigatedMonth(date);\n  };\n\n  const navigateDay = (date: Date) => {\n    setNavigatedMonth(date);\n    setNavigatedDay(date);\n  };\n\n  const onDateSelected = (date: Date, selectedDateRangeArray?: Date[]) => {\n    setNavigatedMonth(date);\n    setNavigatedDay(date);\n    setSelectedDate(date);\n    onSelectDate?.(date, selectedDateRangeArray);\n  };\n\n  return [selectedDate, navigatedDay, navigatedMonth, onDateSelected, navigateDay, navigateMonth] as const;\n}\n\nfunction useVisibilityState(props: ICalendarProps) {\n  /** State used to show/hide month picker */\n  const [isMonthPickerVisible = true, setIsMonthPickerVisible] = useControllableValue(\n    getShowMonthPickerAsOverlay(props) ? undefined : props.isMonthPickerVisible,\n    false,\n  );\n  /** State used to show/hide day picker */\n  const [isDayPickerVisible = true, setIsDayPickerVisible] = useControllableValue(\n    getShowMonthPickerAsOverlay(props) ? undefined : props.isDayPickerVisible,\n    true,\n  );\n\n  const toggleDayMonthPickerVisibility = () => {\n    setIsMonthPickerVisible(!isMonthPickerVisible);\n    setIsDayPickerVisible(!isDayPickerVisible);\n  };\n\n  return [isMonthPickerVisible, isDayPickerVisible, toggleDayMonthPickerVisibility] as const;\n}\n\nfunction useFocusLogic({ componentRef }: ICalendarProps, isDayPickerVisible: boolean, isMonthPickerVisible: boolean) {\n  const dayPicker = React.useRef<ICalendarDay>(null);\n  const monthPicker = React.useRef<ICalendarMonth>(null);\n  const focusOnUpdate = React.useRef(false);\n\n  const focus = React.useCallback(() => {\n    if (isDayPickerVisible && dayPicker.current) {\n      focusAsync(dayPicker.current);\n    } else if (isMonthPickerVisible && monthPicker.current) {\n      focusAsync(monthPicker.current);\n    }\n  }, [isDayPickerVisible, isMonthPickerVisible]);\n\n  React.useImperativeHandle(componentRef, () => ({ focus }), [focus]);\n\n  React.useEffect(() => {\n    if (focusOnUpdate.current) {\n      focus();\n      focusOnUpdate.current = false;\n    }\n  });\n\n  const focusOnNextUpdate = () => {\n    focusOnUpdate.current = true;\n  };\n\n  return [dayPicker, monthPicker, focusOnNextUpdate] as const;\n}\n\nexport const CalendarBase: React.FunctionComponent<ICalendarProps> = React.forwardRef<HTMLDivElement, ICalendarProps>(\n  (propsWithoutDefaults, forwardedRef) => {\n    const props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n\n    const [selectedDate, navigatedDay, navigatedMonth, onDateSelected, navigateDay, navigateMonth] = useDateState(\n      props,\n    );\n    const [isMonthPickerVisible, isDayPickerVisible, toggleDayMonthPickerVisibility] = useVisibilityState(props);\n    const [dayPicker, monthPicker, focusOnNextUpdate] = useFocusLogic(props, isDayPickerVisible, isMonthPickerVisible);\n\n    const renderGoToTodayButton = () => {\n      let goTodayEnabled = showGoToToday;\n\n      if (goTodayEnabled && today) {\n        goTodayEnabled =\n          navigatedDay.getFullYear() !== today.getFullYear() ||\n          navigatedDay.getMonth() !== today.getMonth() ||\n          navigatedMonth.getFullYear() !== today.getFullYear() ||\n          navigatedMonth.getMonth() !== today.getMonth();\n      }\n\n      return (\n        showGoToToday && (\n          <button\n            className={css('js-goToday', classes.goTodayButton)}\n            onClick={onGotoToday}\n            onKeyDown={onButtonKeyDown(onGotoToday)}\n            type=\"button\"\n            disabled={!goTodayEnabled}\n          >\n            {strings!.goToToday}\n          </button>\n        )\n      );\n    };\n\n    const onNavigateDayDate = (date: Date, focusOnNavigatedDay: boolean): void => {\n      navigateDay(date);\n      if (focusOnNavigatedDay) {\n        focusOnNextUpdate();\n      }\n    };\n\n    const onNavigateMonthDate = (date: Date, focusOnNavigatedDay: boolean): void => {\n      if (focusOnNavigatedDay) {\n        focusOnNextUpdate();\n      }\n\n      if (!focusOnNavigatedDay) {\n        navigateMonth(date);\n        return;\n      }\n\n      if (monthPickerOnly) {\n        onDateSelected(date);\n      }\n\n      navigateDay(date);\n    };\n\n    const onHeaderSelect = getShowMonthPickerAsOverlay(props)\n      ? (): void => {\n          toggleDayMonthPickerVisibility();\n\n          focusOnNextUpdate();\n        }\n      : undefined;\n\n    const onGotoToday = (): void => {\n      navigateDay(today!);\n      focusOnNextUpdate();\n    };\n\n    const onButtonKeyDown = (callback: () => void): ((ev: React.KeyboardEvent<HTMLButtonElement>) => void) => {\n      return (ev: React.KeyboardEvent<HTMLButtonElement>) => {\n        // eslint-disable-next-line deprecation/deprecation\n        switch (ev.which) {\n          case KeyCodes.enter:\n          case KeyCodes.space:\n            callback();\n            break;\n        }\n      };\n    };\n\n    const onDatePickerPopupKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n      // eslint-disable-next-line deprecation/deprecation\n      switch (ev.which) {\n        case KeyCodes.enter:\n          ev.preventDefault();\n          break;\n\n        case KeyCodes.backspace:\n          ev.preventDefault();\n          break;\n\n        case KeyCodes.escape:\n          props.onDismiss?.();\n          break;\n\n        case KeyCodes.pageUp:\n          if (ev.ctrlKey) {\n            // go to next year\n            navigateDay(addYears(navigatedDay, 1));\n          } else {\n            // go to next month\n            navigateDay(addMonths(navigatedDay, 1));\n          }\n          ev.preventDefault();\n          break;\n        case KeyCodes.pageDown:\n          if (ev.ctrlKey) {\n            // go to previous year\n            navigateDay(addYears(navigatedDay, -1));\n          } else {\n            // go to previous month\n            navigateDay(addMonths(navigatedDay, -1));\n          }\n          ev.preventDefault();\n          break;\n        default:\n          break;\n      }\n    };\n    const rootClass = 'ms-DatePicker';\n    const {\n      firstDayOfWeek,\n      dateRangeType,\n      strings,\n      showGoToToday,\n      highlightCurrentMonth,\n      highlightSelectedMonth,\n      navigationIcons,\n      minDate,\n      maxDate,\n      restrictedDates,\n      className,\n      showCloseButton,\n      allFocusable,\n      styles,\n      showWeekNumbers,\n      theme,\n      calendarDayProps,\n      calendarMonthProps,\n      dateTimeFormatter,\n      today = new Date(),\n    } = props;\n\n    const showMonthPickerAsOverlay = getShowMonthPickerAsOverlay(props);\n\n    const monthPickerOnly = !showMonthPickerAsOverlay && !isDayPickerVisible;\n    const overlaidWithButton = showMonthPickerAsOverlay && showGoToToday;\n\n    const classes = getClassNames(styles, {\n      theme: theme!,\n      className,\n      isMonthPickerVisible: isMonthPickerVisible,\n      isDayPickerVisible: isDayPickerVisible,\n      monthPickerOnly: monthPickerOnly,\n      showMonthPickerAsOverlay: showMonthPickerAsOverlay,\n      overlaidWithButton: overlaidWithButton,\n      overlayedWithButton: overlaidWithButton,\n      showGoToToday: showGoToToday,\n      showWeekNumbers: showWeekNumbers,\n    });\n\n    let todayDateString: string = '';\n    let selectedDateString: string = '';\n    if (dateTimeFormatter && strings!.todayDateFormatString) {\n      todayDateString = format(strings!.todayDateFormatString, dateTimeFormatter.formatMonthDayYear(today, strings!));\n    }\n    if (dateTimeFormatter && strings!.selectedDateFormatString) {\n      selectedDateString = format(\n        strings!.selectedDateFormatString,\n        dateTimeFormatter.formatMonthDayYear(selectedDate, strings!),\n      );\n    }\n    const selectionAndTodayString = selectedDateString + ', ' + todayDateString;\n\n    return (\n      <div\n        ref={forwardedRef}\n        role=\"group\"\n        aria-label={selectionAndTodayString}\n        className={css(rootClass, classes.root, className, 'ms-slideDownIn10')}\n        onKeyDown={onDatePickerPopupKeyDown}\n      >\n        <div className={classes.liveRegion} aria-live=\"polite\" aria-atomic=\"true\">\n          <span>{selectedDateString}</span>\n        </div>\n        {isDayPickerVisible && (\n          <CalendarDay\n            selectedDate={selectedDate!}\n            navigatedDate={navigatedDay!}\n            today={props.today}\n            onSelectDate={onDateSelected}\n            // eslint-disable-next-line react/jsx-no-bind\n            onNavigateDate={onNavigateDayDate}\n            onDismiss={props.onDismiss}\n            firstDayOfWeek={firstDayOfWeek!}\n            dateRangeType={dateRangeType!}\n            strings={strings!}\n            // eslint-disable-next-line react/jsx-no-bind\n            onHeaderSelect={onHeaderSelect}\n            navigationIcons={navigationIcons!}\n            showWeekNumbers={props.showWeekNumbers}\n            firstWeekOfYear={props.firstWeekOfYear!}\n            dateTimeFormatter={props.dateTimeFormatter!}\n            showSixWeeksByDefault={props.showSixWeeksByDefault}\n            minDate={minDate}\n            maxDate={maxDate}\n            restrictedDates={restrictedDates}\n            workWeekDays={props.workWeekDays}\n            componentRef={dayPicker}\n            showCloseButton={showCloseButton}\n            allFocusable={allFocusable}\n            {...calendarDayProps} // at end of list so consumer's custom functions take precedence\n          />\n        )}\n        {isDayPickerVisible && isMonthPickerVisible && <div className={classes.divider} />}\n        {isMonthPickerVisible ? (\n          <div className={classes.monthPickerWrapper}>\n            <CalendarMonth\n              navigatedDate={navigatedMonth}\n              selectedDate={navigatedDay}\n              strings={strings!}\n              // eslint-disable-next-line react/jsx-no-bind\n              onNavigateDate={onNavigateMonthDate}\n              today={props.today}\n              highlightCurrentMonth={highlightCurrentMonth!}\n              highlightSelectedMonth={highlightSelectedMonth!}\n              // eslint-disable-next-line react/jsx-no-bind\n              onHeaderSelect={onHeaderSelect}\n              navigationIcons={navigationIcons!}\n              dateTimeFormatter={props.dateTimeFormatter!}\n              minDate={minDate}\n              maxDate={maxDate}\n              componentRef={monthPicker}\n              {...calendarMonthProps} // at end of list so consumer's custom functions take precedence\n            />\n            {renderGoToTodayButton()}\n          </div>\n        ) : (\n          renderGoToTodayButton()\n        )}\n        <FocusRects />\n      </div>\n    );\n  },\n);\nCalendarBase.displayName = 'CalendarBase';\n\nfunction getShowMonthPickerAsOverlay({ showMonthPickerAsOverlay, isDayPickerVisible }: ICalendarProps) {\n  const win = getWindow();\n  return showMonthPickerAsOverlay || (isDayPickerVisible && win && win.innerWidth <= MIN_SIZE_FORCE_OVERLAY);\n}\n"]},"metadata":{},"sourceType":"module"}