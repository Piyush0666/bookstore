{"ast":null,"code":"import { __assign } from \"tslib\"; // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore \"react-portal-compat-context\" uses v9 configs via path aliases\n\nimport { usePortalCompat } from '@fluentui/react-portal-compat-context';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Fabric } from '../../Fabric';\nimport { classNamesFunction, getDocument, setPortalAttribute, setVirtualParent } from '../../Utilities';\nimport { registerLayer, getDefaultTarget, unregisterLayer, getLayerHost, createDefaultLayerHost } from './Layer.notification';\nimport { useIsomorphicLayoutEffect, useMergedRefs, useWarnings } from '@fluentui/react-hooks';\nvar getClassNames = classNamesFunction();\nexport var LayerBase = React.forwardRef(function (props, ref) {\n  var registerPortalEl = usePortalCompat();\n  var rootRef = React.useRef(null);\n  var mergedRef = useMergedRefs(rootRef, ref);\n  var layerRef = React.useRef(); // Tracks if the layer mount events need to be raised.\n  // Required to allow the DOM to render after the layer element is added.\n\n  var _a = React.useState(false),\n      needRaiseLayerMount = _a[0],\n      setNeedRaiseLayerMount = _a[1];\n\n  var eventBubblingEnabled = props.eventBubblingEnabled,\n      styles = props.styles,\n      theme = props.theme,\n      className = props.className,\n      children = props.children,\n      hostId = props.hostId,\n      _b = props.onLayerDidMount,\n      onLayerDidMount = _b === void 0 ? function () {\n    return undefined;\n  } : _b,\n      // eslint-disable-next-line deprecation/deprecation\n  _c = props.onLayerMounted,\n      // eslint-disable-next-line deprecation/deprecation\n  onLayerMounted = _c === void 0 ? function () {\n    return undefined;\n  } : _c,\n      onLayerWillUnmount = props.onLayerWillUnmount,\n      insertFirst = props.insertFirst;\n  var classNames = getClassNames(styles, {\n    theme: theme,\n    className: className,\n    isNotHost: !hostId\n  }); // Returns the user provided hostId props element, the default target selector,\n  // or undefined if document doesn't exist.\n\n  var getHost = function (doc) {\n    var _a, _b;\n\n    if (hostId) {\n      var layerHost = getLayerHost(hostId);\n\n      if (layerHost) {\n        return (_a = layerHost.rootRef.current) !== null && _a !== void 0 ? _a : null;\n      }\n\n      return (_b = doc.getElementById(hostId)) !== null && _b !== void 0 ? _b : null;\n    } else {\n      var defaultHostSelector = getDefaultTarget(); // Find the host.\n\n      var host = defaultHostSelector ? doc.querySelector(defaultHostSelector) : null; // If no host is available, create a container for injecting layers in.\n      // Having a container scopes layout computation.\n\n      if (!host) {\n        host = createDefaultLayerHost(doc);\n      }\n\n      return host;\n    }\n  }; // Removes the current layer element's parentNode and runs onLayerWillUnmount prop if provided.\n\n\n  var removeLayerElement = function () {\n    onLayerWillUnmount === null || onLayerWillUnmount === void 0 ? void 0 : onLayerWillUnmount();\n    var elem = layerRef.current; // Clear ref before removing from the DOM\n\n    layerRef.current = undefined;\n\n    if (elem && elem.parentNode) {\n      elem.parentNode.removeChild(elem);\n    }\n  }; // If a doc or host exists, it will remove and update layer parentNodes.\n\n\n  var createLayerElement = function () {\n    var _a;\n\n    var doc = getDocument(rootRef.current);\n\n    if (!doc) {\n      return;\n    }\n\n    var host = getHost(doc);\n\n    if (!host) {\n      return;\n    } // Remove and re-create any previous existing layer elements.\n\n\n    removeLayerElement();\n    var el = ((_a = host.ownerDocument) !== null && _a !== void 0 ? _a : doc).createElement('div');\n    el.className = classNames.root;\n    setPortalAttribute(el);\n    setVirtualParent(el, rootRef.current);\n    insertFirst ? host.insertBefore(el, host.firstChild) : host.appendChild(el);\n    layerRef.current = el;\n    setNeedRaiseLayerMount(true);\n  };\n\n  useIsomorphicLayoutEffect(function () {\n    createLayerElement(); // Check if the user provided a hostId prop and register the layer with the ID.\n\n    if (hostId) {\n      registerLayer(hostId, createLayerElement);\n    }\n\n    var unregisterPortalEl = layerRef.current ? registerPortalEl(layerRef.current) : undefined;\n    return function () {\n      if (unregisterPortalEl) {\n        unregisterPortalEl();\n      }\n\n      removeLayerElement();\n\n      if (hostId) {\n        unregisterLayer(hostId, createLayerElement);\n      }\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps -- should run if the hostId updates.\n  }, [hostId]);\n  React.useEffect(function () {\n    if (layerRef.current && needRaiseLayerMount) {\n      onLayerMounted === null || onLayerMounted === void 0 ? void 0 : onLayerMounted();\n      onLayerDidMount === null || onLayerDidMount === void 0 ? void 0 : onLayerDidMount();\n      setNeedRaiseLayerMount(false);\n    }\n  }, [needRaiseLayerMount, onLayerMounted, onLayerDidMount]);\n  useDebugWarnings(props);\n  return React.createElement(\"span\", {\n    className: \"ms-layer\",\n    ref: mergedRef\n  }, layerRef.current && ReactDOM.createPortal(\n  /* eslint-disable deprecation/deprecation */\n  React.createElement(Fabric, __assign({}, !eventBubblingEnabled && getFilteredEvents(), {\n    className: classNames.content\n  }), children),\n  /* eslint-enable deprecation/deprecation */\n  layerRef.current));\n});\nLayerBase.displayName = 'LayerBase';\nvar filteredEventProps;\n\nvar onFilterEvent = function (ev) {\n  // We should just be able to check ev.bubble here and only stop events that are bubbling up. However, even though\n  // mouseenter and mouseleave do NOT bubble up, they are showing up as bubbling. Therefore we stop events based on\n  // event name rather than ev.bubble.\n  if (ev.eventPhase === Event.BUBBLING_PHASE && ev.type !== 'mouseenter' && ev.type !== 'mouseleave' && ev.type !== 'touchstart' && ev.type !== 'touchend') {\n    ev.stopPropagation();\n  }\n};\n\nfunction getFilteredEvents() {\n  if (!filteredEventProps) {\n    filteredEventProps = {};\n    ['onClick', 'onContextMenu', 'onDoubleClick', 'onDrag', 'onDragEnd', 'onDragEnter', 'onDragExit', 'onDragLeave', 'onDragOver', 'onDragStart', 'onDrop', 'onMouseDown', 'onMouseEnter', 'onMouseLeave', 'onMouseMove', 'onMouseOver', 'onMouseOut', 'onMouseUp', 'onTouchMove', 'onTouchStart', 'onTouchCancel', 'onTouchEnd', 'onKeyDown', 'onKeyPress', 'onKeyUp', 'onFocus', 'onBlur', 'onChange', 'onInput', 'onInvalid', 'onSubmit'].forEach(function (name) {\n      return filteredEventProps[name] = onFilterEvent;\n    });\n  }\n\n  return filteredEventProps;\n}\n\nfunction useDebugWarnings(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n    useWarnings({\n      name: 'Layer',\n      props: props,\n      deprecations: {\n        onLayerMounted: 'onLayerDidMount'\n      }\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["usePortalCompat","React","ReactDOM","Fabric","classNamesFunction","getDocument","setPortalAttribute","setVirtualParent","registerLayer","getDefaultTarget","unregisterLayer","getLayerHost","createDefaultLayerHost","useIsomorphicLayoutEffect","useMergedRefs","useWarnings","getClassNames","LayerBase","forwardRef","props","ref","registerPortalEl","rootRef","useRef","mergedRef","layerRef","useState","needRaiseLayerMount","setNeedRaiseLayerMount","styles","theme","className","children","hostId","_b","onLayerDidMount","_c","onLayerMounted","onLayerWillUnmount","insertFirst","classNames","isNotHost","getHost","doc","layerHost","current","_a","getElementById","defaultHostSelector","host","querySelector","removeLayerElement","elem","undefined","parentNode","removeChild","createLayerElement","el","ownerDocument","createElement","root","insertBefore","firstChild","appendChild","unregisterPortalEl","useEffect","useDebugWarnings","createPortal","__assign","eventBubblingEnabled","getFilteredEvents","content","displayName","filteredEventProps","onFilterEvent","ev","eventPhase","Event","BUBBLING_PHASE","type","stopPropagation","forEach","name","process","env","NODE_ENV","deprecations"],"sources":["C:\\Users\\Admin\\Desktop\\bookstore\\frontend\\node_modules\\@fluentui\\react\\lib\\components\\src\\components\\Layer\\Layer.base.tsx"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore \"react-portal-compat-context\" uses v9 configs via path aliases\nimport { usePortalCompat } from '@fluentui/react-portal-compat-context';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Fabric } from '../../Fabric';\nimport { classNamesFunction, getDocument, setPortalAttribute, setVirtualParent } from '../../Utilities';\nimport {\n  registerLayer,\n  getDefaultTarget,\n  unregisterLayer,\n  getLayerHost,\n  createDefaultLayerHost,\n} from './Layer.notification';\nimport { useIsomorphicLayoutEffect, useMergedRefs, useWarnings } from '@fluentui/react-hooks';\nimport type { ILayerProps, ILayerStyleProps, ILayerStyles } from './Layer.types';\n\nconst getClassNames = classNamesFunction<ILayerStyleProps, ILayerStyles>();\n\nexport const LayerBase: React.FunctionComponent<ILayerProps> = React.forwardRef<HTMLDivElement, ILayerProps>(\n  (props, ref) => {\n    const registerPortalEl = usePortalCompat();\n\n    const rootRef = React.useRef<HTMLSpanElement>(null);\n    const mergedRef = useMergedRefs(rootRef, ref);\n    const layerRef = React.useRef<HTMLDivElement>();\n\n    // Tracks if the layer mount events need to be raised.\n    // Required to allow the DOM to render after the layer element is added.\n    const [needRaiseLayerMount, setNeedRaiseLayerMount] = React.useState(false);\n\n    const {\n      eventBubblingEnabled,\n      styles,\n      theme,\n      className,\n      children,\n      hostId,\n      onLayerDidMount = () => undefined,\n      // eslint-disable-next-line deprecation/deprecation\n      onLayerMounted = () => undefined,\n      onLayerWillUnmount,\n      insertFirst,\n    } = props;\n\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      isNotHost: !hostId,\n    });\n\n    // Returns the user provided hostId props element, the default target selector,\n    // or undefined if document doesn't exist.\n    const getHost = (doc: Document): Node | null => {\n      if (hostId) {\n        const layerHost = getLayerHost(hostId);\n\n        if (layerHost) {\n          return layerHost.rootRef.current ?? null;\n        }\n\n        return doc.getElementById(hostId) ?? null;\n      } else {\n        const defaultHostSelector = getDefaultTarget();\n\n        // Find the host.\n        let host: Node | null = defaultHostSelector ? (doc.querySelector(defaultHostSelector) as Node) : null;\n\n        // If no host is available, create a container for injecting layers in.\n        // Having a container scopes layout computation.\n        if (!host) {\n          host = createDefaultLayerHost(doc);\n        }\n\n        return host;\n      }\n    };\n\n    // Removes the current layer element's parentNode and runs onLayerWillUnmount prop if provided.\n    const removeLayerElement = (): void => {\n      onLayerWillUnmount?.();\n\n      const elem = layerRef.current;\n\n      // Clear ref before removing from the DOM\n      layerRef.current = undefined;\n\n      if (elem && elem.parentNode) {\n        elem.parentNode.removeChild(elem);\n      }\n    };\n\n    // If a doc or host exists, it will remove and update layer parentNodes.\n    const createLayerElement = () => {\n      const doc = getDocument(rootRef.current);\n\n      if (!doc) {\n        return;\n      }\n\n      const host = getHost(doc);\n\n      if (!host) {\n        return;\n      }\n\n      // Remove and re-create any previous existing layer elements.\n      removeLayerElement();\n\n      const el = (host.ownerDocument ?? doc).createElement('div');\n\n      el.className = classNames.root!;\n      setPortalAttribute(el);\n      setVirtualParent(el, rootRef.current!);\n\n      insertFirst ? host.insertBefore(el, host.firstChild) : host.appendChild(el);\n      layerRef.current = el;\n      setNeedRaiseLayerMount(true);\n    };\n\n    useIsomorphicLayoutEffect(() => {\n      createLayerElement();\n      // Check if the user provided a hostId prop and register the layer with the ID.\n      if (hostId) {\n        registerLayer(hostId, createLayerElement);\n      }\n\n      const unregisterPortalEl = layerRef.current ? registerPortalEl(layerRef.current) : undefined;\n\n      return () => {\n        if (unregisterPortalEl) {\n          unregisterPortalEl();\n        }\n\n        removeLayerElement();\n\n        if (hostId) {\n          unregisterLayer(hostId, createLayerElement);\n        }\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps -- should run if the hostId updates.\n    }, [hostId]);\n\n    React.useEffect(() => {\n      if (layerRef.current && needRaiseLayerMount) {\n        onLayerMounted?.();\n        onLayerDidMount?.();\n        setNeedRaiseLayerMount(false);\n      }\n    }, [needRaiseLayerMount, onLayerMounted, onLayerDidMount]);\n\n    useDebugWarnings(props);\n\n    return (\n      <span className=\"ms-layer\" ref={mergedRef}>\n        {layerRef.current &&\n          ReactDOM.createPortal(\n            /* eslint-disable deprecation/deprecation */\n            <Fabric {...(!eventBubblingEnabled && getFilteredEvents())} className={classNames.content}>\n              {children}\n            </Fabric>,\n            /* eslint-enable deprecation/deprecation */\n            layerRef.current,\n          )}\n      </span>\n    );\n  },\n);\nLayerBase.displayName = 'LayerBase';\n\nlet filteredEventProps: { [key: string]: (ev: React.SyntheticEvent<HTMLElement, Event>) => void };\n\nconst onFilterEvent = (ev: React.SyntheticEvent<HTMLElement>): void => {\n  // We should just be able to check ev.bubble here and only stop events that are bubbling up. However, even though\n  // mouseenter and mouseleave do NOT bubble up, they are showing up as bubbling. Therefore we stop events based on\n  // event name rather than ev.bubble.\n  if (\n    ev.eventPhase === Event.BUBBLING_PHASE &&\n    ev.type !== 'mouseenter' &&\n    ev.type !== 'mouseleave' &&\n    ev.type !== 'touchstart' &&\n    ev.type !== 'touchend'\n  ) {\n    ev.stopPropagation();\n  }\n};\n\nfunction getFilteredEvents() {\n  if (!filteredEventProps) {\n    filteredEventProps = {} as any;\n    [\n      'onClick',\n      'onContextMenu',\n      'onDoubleClick',\n      'onDrag',\n      'onDragEnd',\n      'onDragEnter',\n      'onDragExit',\n      'onDragLeave',\n      'onDragOver',\n      'onDragStart',\n      'onDrop',\n      'onMouseDown',\n      'onMouseEnter',\n      'onMouseLeave',\n      'onMouseMove',\n      'onMouseOver',\n      'onMouseOut',\n      'onMouseUp',\n      'onTouchMove',\n      'onTouchStart',\n      'onTouchCancel',\n      'onTouchEnd',\n      'onKeyDown',\n      'onKeyPress',\n      'onKeyUp',\n      'onFocus',\n      'onBlur',\n      'onChange',\n      'onInput',\n      'onInvalid',\n      'onSubmit',\n    ].forEach(name => (filteredEventProps[name] = onFilterEvent));\n  }\n  return filteredEventProps;\n}\n\nfunction useDebugWarnings(props: ILayerProps) {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n    useWarnings({\n      name: 'Layer',\n      props,\n      deprecations: { onLayerMounted: 'onLayerDidMount' },\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}