{"ast":null,"code":"import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { KeyCodes, classNamesFunction, getNativeProps, divProperties, css, format, getPropsWithDefaults } from '@fluentui/utilities';\nimport { Calendar } from '../../Calendar';\nimport { FirstWeekOfYear, getDatePartHashValue, compareDatePart, DayOfWeek } from '@fluentui/date-time-utilities';\nimport { Callout, DirectionalHint } from '../../Callout';\nimport { TextField } from '../../TextField';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nimport { useId, useAsync, useControllableValue } from '@fluentui/react-hooks';\nimport { defaultDatePickerStrings } from './defaults';\nvar getClassNames = classNamesFunction();\nvar DEFAULT_PROPS = {\n  allowTextInput: false,\n  formatDate: function (date) {\n    return date ? date.toDateString() : '';\n  },\n  parseDateFromString: function (dateStr) {\n    var date = Date.parse(dateStr);\n    return date ? new Date(date) : null;\n  },\n  firstDayOfWeek: DayOfWeek.Sunday,\n  initialPickerDate: new Date(),\n  isRequired: false,\n  isMonthPickerVisible: true,\n  showMonthPickerAsOverlay: false,\n  strings: defaultDatePickerStrings,\n  highlightCurrentMonth: false,\n  highlightSelectedMonth: false,\n  borderless: false,\n  pickerAriaLabel: 'Calendar',\n  showWeekNumbers: false,\n  firstWeekOfYear: FirstWeekOfYear.FirstDay,\n  showGoToToday: true,\n  showCloseButton: false,\n  underlined: false,\n  allFocusable: false\n};\n\nfunction useFocusLogic() {\n  var textFieldRef = React.useRef(null);\n  var preventFocusOpeningPicker = React.useRef(false);\n\n  var focus = function () {\n    var _a, _b;\n\n    (_b = (_a = textFieldRef.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n  };\n\n  var preventNextFocusOpeningPicker = function () {\n    preventFocusOpeningPicker.current = true;\n  };\n\n  return [textFieldRef, focus, preventFocusOpeningPicker, preventNextFocusOpeningPicker];\n}\n\nfunction useCalendarVisibility(_a, focus) {\n  var allowTextInput = _a.allowTextInput,\n      onAfterMenuDismiss = _a.onAfterMenuDismiss;\n\n  var _b = React.useState(false),\n      isCalendarShown = _b[0],\n      setIsCalendarShown = _b[1];\n\n  var isMounted = React.useRef(false);\n  var async = useAsync();\n  React.useEffect(function () {\n    if (isMounted.current && !isCalendarShown) {\n      // In browsers like IE, textfield gets unfocused when datepicker is collapsed\n      if (allowTextInput) {\n        async.requestAnimationFrame(focus);\n      } // If DatePicker's menu (Calendar) is closed, run onAfterMenuDismiss\n\n\n      onAfterMenuDismiss === null || onAfterMenuDismiss === void 0 ? void 0 : onAfterMenuDismiss();\n    }\n\n    isMounted.current = true; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isCalendarShown]);\n  return [isCalendarShown, setIsCalendarShown];\n}\n\nfunction useSelectedDate(_a) {\n  var formatDate = _a.formatDate,\n      value = _a.value,\n      onSelectDate = _a.onSelectDate;\n\n  var _b = useControllableValue(value, undefined, function (ev, newValue) {\n    return onSelectDate === null || onSelectDate === void 0 ? void 0 : onSelectDate(newValue);\n  }),\n      selectedDate = _b[0],\n      setSelectedDateState = _b[1];\n\n  var _c = React.useState(function () {\n    return value && formatDate ? formatDate(value) : '';\n  }),\n      formattedDate = _c[0],\n      setFormattedDate = _c[1];\n\n  var setSelectedDate = function (newDate) {\n    setSelectedDateState(newDate);\n    setFormattedDate(newDate && formatDate ? formatDate(newDate) : '');\n  };\n\n  React.useEffect(function () {\n    setFormattedDate(value && formatDate ? formatDate(value) : '');\n  }, [formatDate, value]);\n  return [selectedDate, formattedDate, setSelectedDate, setFormattedDate];\n}\n\nfunction useErrorMessage(_a, selectedDate, setSelectedDate, inputValue, isCalendarShown) {\n  var isRequired = _a.isRequired,\n      allowTextInput = _a.allowTextInput,\n      strings = _a.strings,\n      parseDateFromString = _a.parseDateFromString,\n      onSelectDate = _a.onSelectDate,\n      formatDate = _a.formatDate,\n      minDate = _a.minDate,\n      maxDate = _a.maxDate;\n\n  var _b = React.useState(),\n      errorMessage = _b[0],\n      setErrorMessage = _b[1];\n\n  var _c = React.useState(),\n      statusMessage = _c[0],\n      setStatusMessage = _c[1];\n\n  var validateTextInput = function (date) {\n    if (date === void 0) {\n      date = null;\n    }\n\n    if (allowTextInput) {\n      if (inputValue || date) {\n        // Don't parse if the selected date has the same formatted string as what we're about to parse.\n        // The formatted string might be ambiguous (ex: \"1/2/3\" or \"New Year Eve\") and the parser might\n        // not be able to come up with the exact same date.\n        if (selectedDate && !errorMessage && formatDate && formatDate(date !== null && date !== void 0 ? date : selectedDate) === inputValue) {\n          return;\n        }\n\n        date = date || parseDateFromString(inputValue); // Check if date is null, or date is Invalid Date\n\n        if (!date || isNaN(date.getTime())) {\n          // Reset invalid input field, if formatting is available\n          setSelectedDate(selectedDate); // default the newer isResetStatusMessage string to invalidInputErrorMessage for legacy support\n\n          var selectedText = formatDate ? formatDate(selectedDate) : '';\n          var statusText = strings.isResetStatusMessage ? format(strings.isResetStatusMessage, inputValue, selectedText) : strings.invalidInputErrorMessage || '';\n          setStatusMessage(statusText);\n        } else {\n          // Check against optional date boundaries\n          if (isDateOutOfBounds(date, minDate, maxDate)) {\n            setErrorMessage(strings.isOutOfBoundsErrorMessage || ' ');\n          } else {\n            setSelectedDate(date);\n            setErrorMessage(undefined);\n            setStatusMessage(undefined);\n          }\n        }\n      } else {\n        // Only show error for empty inputValue if it is a required field\n        setErrorMessage(isRequired ? strings.isRequiredErrorMessage || ' ' : undefined); // If no input date string or input date string is invalid\n        // date variable will be null, callback should expect null value for this case\n\n        onSelectDate === null || onSelectDate === void 0 ? void 0 : onSelectDate(date);\n      }\n    } else if (isRequired && !inputValue) {\n      // Check when DatePicker is a required field but has NO input value\n      setErrorMessage(strings.isRequiredErrorMessage || ' ');\n    } else {\n      // Cleanup the error message and status message\n      setErrorMessage(undefined);\n      setStatusMessage(undefined);\n    }\n  };\n\n  React.useEffect(function () {\n    if (isRequired && !selectedDate) {\n      setErrorMessage(strings.isRequiredErrorMessage || ' ');\n    } else if (selectedDate && isDateOutOfBounds(selectedDate, minDate, maxDate)) {\n      setErrorMessage(strings.isOutOfBoundsErrorMessage || ' ');\n    } else {\n      setErrorMessage(undefined);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [// We don't want to compare the date itself, since two instances of date at the same time are not equal\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  minDate && getDatePartHashValue(minDate), // eslint-disable-next-line react-hooks/exhaustive-deps\n  maxDate && getDatePartHashValue(maxDate), // eslint-disable-next-line react-hooks/exhaustive-deps\n  selectedDate && getDatePartHashValue(selectedDate), isRequired]);\n  return [isCalendarShown ? undefined : errorMessage, validateTextInput, setErrorMessage, isCalendarShown ? undefined : statusMessage, setStatusMessage];\n}\n\nexport var DatePickerBase = React.forwardRef(function (propsWithoutDefaults, forwardedRef) {\n  var props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n  var firstDayOfWeek = props.firstDayOfWeek,\n      strings = props.strings,\n      label = props.label,\n      theme = props.theme,\n      className = props.className,\n      styles = props.styles,\n      initialPickerDate = props.initialPickerDate,\n      isRequired = props.isRequired,\n      disabled = props.disabled,\n      ariaLabel = props.ariaLabel,\n      pickerAriaLabel = props.pickerAriaLabel,\n      placeholder = props.placeholder,\n      allowTextInput = props.allowTextInput,\n      borderless = props.borderless,\n      minDate = props.minDate,\n      maxDate = props.maxDate,\n      showCloseButton = props.showCloseButton,\n      calendarProps = props.calendarProps,\n      calloutProps = props.calloutProps,\n      textFieldProps = props.textField,\n      underlined = props.underlined,\n      allFocusable = props.allFocusable,\n      _a = props.calendarAs,\n      CalendarType = _a === void 0 ? Calendar : _a,\n      tabIndex = props.tabIndex,\n      _b = props.disableAutoFocus,\n      disableAutoFocus = _b === void 0 ? true : _b;\n  var id = useId('DatePicker', props.id);\n  var calloutId = useId('DatePicker-Callout');\n  var calendar = React.useRef(null);\n  var datePickerDiv = React.useRef(null);\n\n  var _c = useFocusLogic(),\n      textFieldRef = _c[0],\n      focus = _c[1],\n      preventFocusOpeningPicker = _c[2],\n      preventNextFocusOpeningPicker = _c[3];\n\n  var _d = useCalendarVisibility(props, focus),\n      isCalendarShown = _d[0],\n      setIsCalendarShown = _d[1];\n\n  var _e = useSelectedDate(props),\n      selectedDate = _e[0],\n      formattedDate = _e[1],\n      setSelectedDate = _e[2],\n      setFormattedDate = _e[3];\n\n  var _f = useErrorMessage(props, selectedDate, setSelectedDate, formattedDate, isCalendarShown),\n      errorMessage = _f[0],\n      validateTextInput = _f[1],\n      setErrorMessage = _f[2],\n      statusMessage = _f[3],\n      setStatusMessage = _f[4];\n\n  var showDatePickerPopup = React.useCallback(function () {\n    if (!isCalendarShown) {\n      preventNextFocusOpeningPicker();\n      setIsCalendarShown(true);\n    }\n  }, [isCalendarShown, preventNextFocusOpeningPicker, setIsCalendarShown]);\n  React.useImperativeHandle(props.componentRef, function () {\n    return {\n      focus: focus,\n      reset: function () {\n        setIsCalendarShown(false);\n        setSelectedDate(undefined);\n        setErrorMessage(undefined);\n        setStatusMessage(undefined);\n      },\n      showDatePickerPopup: showDatePickerPopup\n    };\n  }, [focus, setErrorMessage, setIsCalendarShown, setSelectedDate, setStatusMessage, showDatePickerPopup]);\n\n  var onTextFieldFocus = function () {\n    if (disableAutoFocus) {\n      return;\n    }\n\n    if (!allowTextInput) {\n      if (!preventFocusOpeningPicker.current) {\n        showDatePickerPopup();\n      }\n\n      preventFocusOpeningPicker.current = false;\n    }\n  };\n\n  var onSelectDate = function (date) {\n    if (props.calendarProps && props.calendarProps.onSelectDate) {\n      props.calendarProps.onSelectDate(date);\n    }\n\n    calendarDismissed(date);\n  };\n\n  var onCalloutPositioned = function () {\n    var shouldFocus = true; // If the user has specified that the callout shouldn't use initial focus, then respect\n    // that and don't attempt to set focus. That will default to true within the callout\n    // so we need to check if it's undefined here.\n\n    if (props.calloutProps && props.calloutProps.setInitialFocus !== undefined) {\n      shouldFocus = props.calloutProps.setInitialFocus;\n    }\n\n    if (calendar.current && shouldFocus) {\n      calendar.current.focus();\n    }\n  };\n\n  var onTextFieldBlur = function (ev) {\n    validateTextInput();\n  };\n\n  var onTextFieldChanged = function (ev, newValue) {\n    var _a;\n\n    var textField = props.textField;\n\n    if (allowTextInput) {\n      if (isCalendarShown) {\n        dismissDatePickerPopup();\n      }\n\n      setFormattedDate(newValue);\n    }\n\n    (_a = textField === null || textField === void 0 ? void 0 : textField.onChange) === null || _a === void 0 ? void 0 : _a.call(textField, ev, newValue);\n  };\n\n  var onTextFieldKeyDown = function (ev) {\n    // eslint-disable-next-line deprecation/deprecation\n    switch (ev.which) {\n      case KeyCodes.enter:\n        ev.preventDefault();\n        ev.stopPropagation();\n\n        if (!isCalendarShown) {\n          validateTextInput();\n          showDatePickerPopup();\n        } else {\n          // When DatePicker allows input date string directly,\n          // it is expected to hit another enter to close the popup\n          if (props.allowTextInput) {\n            dismissDatePickerPopup();\n          }\n        }\n\n        break;\n\n      case KeyCodes.escape:\n        handleEscKey(ev);\n        break;\n\n      case KeyCodes.down:\n        if (ev.altKey && !isCalendarShown) {\n          showDatePickerPopup();\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  var onTextFieldClick = function (ev) {\n    // default openOnClick to !props.disableAutoFocus for legacy support of disableAutoFocus behavior\n    var openOnClick = props.openOnClick || !props.disableAutoFocus;\n\n    if (openOnClick && !isCalendarShown && !props.disabled) {\n      showDatePickerPopup();\n      return;\n    }\n\n    if (props.allowTextInput) {\n      dismissDatePickerPopup();\n    }\n  };\n\n  var onIconClick = function (ev) {\n    ev.stopPropagation();\n\n    if (!isCalendarShown && !props.disabled) {\n      showDatePickerPopup();\n    } else if (props.allowTextInput) {\n      dismissDatePickerPopup();\n    }\n  };\n\n  var dismissDatePickerPopup = function (newlySelectedDate) {\n    if (isCalendarShown) {\n      setIsCalendarShown(false);\n      validateTextInput(newlySelectedDate);\n\n      if (!allowTextInput && newlySelectedDate) {\n        setSelectedDate(newlySelectedDate);\n      }\n    }\n  };\n\n  var renderTextfieldDescription = function (inputProps, defaultRender) {\n    return React.createElement(React.Fragment, null, inputProps.description ? defaultRender(inputProps) : null, React.createElement(\"div\", {\n      \"aria-live\": \"assertive\",\n      className: classNames.statusMessage\n    }, statusMessage));\n  };\n\n  var renderReadOnlyInput = function (inputProps) {\n    var divProps = getNativeProps(inputProps, divProperties); // Talkback on Android treats readonly inputs as disabled, so swipe gestures to open the Calendar\n    // don't register. Workaround is rendering a div with role=\"combobox\" (passed in via TextField props).\n\n    return React.createElement(\"div\", __assign({}, divProps, {\n      className: css(divProps.className, classNames.readOnlyTextField),\n      tabIndex: tabIndex || 0\n    }), formattedDate || // Putting the placeholder in a separate span fixes specificity issues for the text color\n    React.createElement(\"span\", {\n      className: classNames.readOnlyPlaceholder\n    }, placeholder));\n  };\n  /**\n   * Callback for closing the calendar callout\n   */\n\n\n  var calendarDismissed = function (newlySelectedDate) {\n    preventNextFocusOpeningPicker();\n    dismissDatePickerPopup(newlySelectedDate); // don't need to focus the text box, if necessary the focusTrapZone will do it\n  };\n\n  var calloutDismissed = function (ev) {\n    calendarDismissed();\n  };\n\n  var handleEscKey = function (ev) {\n    if (isCalendarShown) {\n      ev.stopPropagation();\n      calendarDismissed();\n    }\n  };\n\n  var classNames = getClassNames(styles, {\n    theme: theme,\n    className: className,\n    disabled: disabled,\n    underlined: underlined,\n    label: !!label,\n    isDatePickerShown: isCalendarShown\n  });\n  var nativeProps = getNativeProps(props, divProperties, ['value']);\n  var iconProps = textFieldProps && textFieldProps.iconProps;\n  var textFieldId = textFieldProps && textFieldProps.id && textFieldProps.id !== id ? textFieldProps.id : id + '-label';\n  var readOnly = !allowTextInput && !disabled;\n  return React.createElement(\"div\", __assign({}, nativeProps, {\n    className: classNames.root,\n    ref: forwardedRef\n  }), React.createElement(\"div\", {\n    ref: datePickerDiv,\n    \"aria-owns\": isCalendarShown ? calloutId : undefined,\n    className: classNames.wrapper\n  }, React.createElement(TextField, __assign({\n    role: \"combobox\",\n    label: label,\n    \"aria-expanded\": isCalendarShown,\n    ariaLabel: ariaLabel,\n    \"aria-haspopup\": \"dialog\",\n    \"aria-controls\": isCalendarShown ? calloutId : undefined,\n    required: isRequired,\n    disabled: disabled,\n    errorMessage: errorMessage,\n    placeholder: placeholder,\n    borderless: borderless,\n    value: formattedDate,\n    componentRef: textFieldRef,\n    underlined: underlined,\n    tabIndex: tabIndex,\n    readOnly: !allowTextInput\n  }, textFieldProps, {\n    id: textFieldId,\n    className: css(classNames.textField, textFieldProps && textFieldProps.className),\n    iconProps: __assign(__assign({\n      iconName: 'Calendar'\n    }, iconProps), {\n      className: css(classNames.icon, iconProps && iconProps.className),\n      onClick: onIconClick\n    }),\n    // eslint-disable-next-line react/jsx-no-bind\n    onRenderDescription: renderTextfieldDescription,\n    // eslint-disable-next-line react/jsx-no-bind\n    onKeyDown: onTextFieldKeyDown,\n    // eslint-disable-next-line react/jsx-no-bind\n    onFocus: onTextFieldFocus,\n    // eslint-disable-next-line react/jsx-no-bind\n    onBlur: onTextFieldBlur,\n    // eslint-disable-next-line react/jsx-no-bind\n    onClick: onTextFieldClick,\n    // eslint-disable-next-line react/jsx-no-bind\n    onChange: onTextFieldChanged,\n    onRenderInput: readOnly ? renderReadOnlyInput : undefined\n  }))), isCalendarShown && React.createElement(Callout, __assign({\n    id: calloutId,\n    role: \"dialog\",\n    ariaLabel: pickerAriaLabel,\n    isBeakVisible: false,\n    gapSpace: 0,\n    doNotLayer: false,\n    target: datePickerDiv.current,\n    directionalHint: DirectionalHint.bottomLeftEdge\n  }, calloutProps, {\n    className: css(classNames.callout, calloutProps && calloutProps.className),\n    // eslint-disable-next-line react/jsx-no-bind\n    onDismiss: calloutDismissed,\n    // eslint-disable-next-line react/jsx-no-bind\n    onPositioned: onCalloutPositioned\n  }), React.createElement(FocusTrapZone, {\n    isClickableOutsideFocusTrap: true,\n    disableFirstFocus: disableAutoFocus\n  }, React.createElement(CalendarType, __assign({}, calendarProps, {\n    // eslint-disable-next-line react/jsx-no-bind\n    onSelectDate: onSelectDate,\n    // eslint-disable-next-line react/jsx-no-bind\n    onDismiss: calendarDismissed,\n    isMonthPickerVisible: props.isMonthPickerVisible,\n    showMonthPickerAsOverlay: props.showMonthPickerAsOverlay,\n    today: props.today,\n    value: selectedDate || initialPickerDate,\n    firstDayOfWeek: firstDayOfWeek,\n    strings: strings,\n    highlightCurrentMonth: props.highlightCurrentMonth,\n    highlightSelectedMonth: props.highlightSelectedMonth,\n    showWeekNumbers: props.showWeekNumbers,\n    firstWeekOfYear: props.firstWeekOfYear,\n    showGoToToday: props.showGoToToday,\n    dateTimeFormatter: props.dateTimeFormatter,\n    minDate: minDate,\n    maxDate: maxDate,\n    componentRef: calendar,\n    showCloseButton: showCloseButton,\n    allFocusable: allFocusable\n  })))));\n});\nDatePickerBase.displayName = 'DatePickerBase';\n\nfunction isDateOutOfBounds(date, minDate, maxDate) {\n  return !!minDate && compareDatePart(minDate, date) > 0 || !!maxDate && compareDatePart(maxDate, date) < 0;\n}","map":{"version":3,"mappings":"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","names":["React","KeyCodes","classNamesFunction","getNativeProps","divProperties","css","format","getPropsWithDefaults","Calendar","FirstWeekOfYear","getDatePartHashValue","compareDatePart","DayOfWeek","Callout","DirectionalHint","TextField","FocusTrapZone","useId","useAsync","useControllableValue","defaultDatePickerStrings","getClassNames","DEFAULT_PROPS","allowTextInput","formatDate","date","toDateString","parseDateFromString","dateStr","Date","parse","firstDayOfWeek","Sunday","initialPickerDate","isRequired","isMonthPickerVisible","showMonthPickerAsOverlay","strings","highlightCurrentMonth","highlightSelectedMonth","borderless","pickerAriaLabel","showWeekNumbers","firstWeekOfYear","FirstDay","showGoToToday","showCloseButton","underlined","allFocusable","useFocusLogic","textFieldRef","useRef","preventFocusOpeningPicker","focus","current","_a","_b","preventNextFocusOpeningPicker","useCalendarVisibility","onAfterMenuDismiss","useState","isCalendarShown","setIsCalendarShown","isMounted","async","useEffect","requestAnimationFrame","useSelectedDate","value","onSelectDate","undefined","ev","newValue","selectedDate","setSelectedDateState","formattedDate","setFormattedDate","setSelectedDate","newDate","useErrorMessage","inputValue","minDate","maxDate","errorMessage","setErrorMessage","statusMessage","setStatusMessage","validateTextInput","isNaN","getTime","selectedText","statusText","isResetStatusMessage","invalidInputErrorMessage","isDateOutOfBounds","isOutOfBoundsErrorMessage","isRequiredErrorMessage","DatePickerBase","forwardRef","propsWithoutDefaults","forwardedRef","props","label","theme","className","styles","disabled","ariaLabel","placeholder","calendarProps","calloutProps","textFieldProps","CalendarType","tabIndex","disableAutoFocus","id","calloutId","calendar","datePickerDiv","showDatePickerPopup","useCallback","useImperativeHandle","componentRef","reset","onTextFieldFocus","calendarDismissed","onCalloutPositioned","shouldFocus","setInitialFocus","onTextFieldBlur","onTextFieldChanged","dismissDatePickerPopup","onChange","textField","onTextFieldKeyDown","which","enter","preventDefault","stopPropagation","escape","handleEscKey","down","altKey","onTextFieldClick","openOnClick","onIconClick","newlySelectedDate","renderTextfieldDescription","inputProps","defaultRender","description","classNames","renderReadOnlyInput","divProps","readOnlyTextField","readOnlyPlaceholder","calloutDismissed","isDatePickerShown","nativeProps","iconProps","textFieldId","readOnly","root","ref","wrapper","__assign","role","required","iconName","icon","onClick","onRenderDescription","onKeyDown","onFocus","onBlur","onRenderInput","isBeakVisible","gapSpace","doNotLayer","target","directionalHint","bottomLeftEdge","callout","onDismiss","onPositioned","isClickableOutsideFocusTrap","disableFirstFocus","today","dateTimeFormatter","displayName"],"sources":["C:\\Users\\Admin\\Desktop\\bookstore\\frontend\\node_modules\\@fluentui\\react\\lib\\components\\src\\components\\DatePicker\\DatePicker.base.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  KeyCodes,\n  classNamesFunction,\n  getNativeProps,\n  divProperties,\n  css,\n  format,\n  getPropsWithDefaults,\n} from '@fluentui/utilities';\nimport { Calendar } from '../../Calendar';\nimport { FirstWeekOfYear, getDatePartHashValue, compareDatePart, DayOfWeek } from '@fluentui/date-time-utilities';\nimport { Callout, DirectionalHint } from '../../Callout';\nimport { TextField } from '../../TextField';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nimport { useId, useAsync, useControllableValue } from '@fluentui/react-hooks';\nimport { defaultDatePickerStrings } from './defaults';\nimport type { IDatePickerProps, IDatePickerStyleProps, IDatePickerStyles } from './DatePicker.types';\nimport type { IRenderFunction } from '@fluentui/utilities';\nimport type { ICalendar } from '../../Calendar';\nimport type { ITextField, ITextFieldProps } from '../../TextField';\n\nconst getClassNames = classNamesFunction<IDatePickerStyleProps, IDatePickerStyles>();\n\nconst DEFAULT_PROPS: IDatePickerProps = {\n  allowTextInput: false,\n  formatDate: (date: Date) => (date ? date.toDateString() : ''),\n  parseDateFromString: (dateStr: string) => {\n    const date = Date.parse(dateStr);\n    return date ? new Date(date) : null;\n  },\n  firstDayOfWeek: DayOfWeek.Sunday,\n  initialPickerDate: new Date(),\n  isRequired: false,\n  isMonthPickerVisible: true,\n  showMonthPickerAsOverlay: false,\n  strings: defaultDatePickerStrings,\n  highlightCurrentMonth: false,\n  highlightSelectedMonth: false,\n  borderless: false,\n  pickerAriaLabel: 'Calendar',\n  showWeekNumbers: false,\n  firstWeekOfYear: FirstWeekOfYear.FirstDay,\n  showGoToToday: true,\n  showCloseButton: false,\n  underlined: false,\n  allFocusable: false,\n};\n\nfunction useFocusLogic() {\n  const textFieldRef = React.useRef<ITextField>(null);\n  const preventFocusOpeningPicker = React.useRef(false);\n\n  const focus = () => {\n    textFieldRef.current?.focus?.();\n  };\n\n  const preventNextFocusOpeningPicker = () => {\n    preventFocusOpeningPicker.current = true;\n  };\n\n  return [textFieldRef, focus, preventFocusOpeningPicker, preventNextFocusOpeningPicker] as const;\n}\n\nfunction useCalendarVisibility({ allowTextInput, onAfterMenuDismiss }: IDatePickerProps, focus: () => void) {\n  const [isCalendarShown, setIsCalendarShown] = React.useState(false);\n  const isMounted = React.useRef(false);\n  const async = useAsync();\n\n  React.useEffect(() => {\n    if (isMounted.current && !isCalendarShown) {\n      // In browsers like IE, textfield gets unfocused when datepicker is collapsed\n      if (allowTextInput) {\n        async.requestAnimationFrame(focus);\n      }\n\n      // If DatePicker's menu (Calendar) is closed, run onAfterMenuDismiss\n      onAfterMenuDismiss?.();\n    }\n    isMounted.current = true;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isCalendarShown]);\n\n  return [isCalendarShown, setIsCalendarShown] as const;\n}\n\nfunction useSelectedDate({ formatDate, value, onSelectDate }: IDatePickerProps) {\n  const [selectedDate, setSelectedDateState] = useControllableValue(value, undefined, (ev, newValue) =>\n    onSelectDate?.(newValue),\n  );\n  const [formattedDate, setFormattedDate] = React.useState(() => (value && formatDate ? formatDate(value) : ''));\n\n  const setSelectedDate = (newDate: Date | undefined) => {\n    setSelectedDateState(newDate);\n    setFormattedDate(newDate && formatDate ? formatDate(newDate) : '');\n  };\n\n  React.useEffect(() => {\n    setFormattedDate(value && formatDate ? formatDate(value) : '');\n  }, [formatDate, value]);\n\n  return [selectedDate, formattedDate, setSelectedDate, setFormattedDate] as const;\n}\n\nfunction useErrorMessage(\n  {\n    isRequired,\n    allowTextInput,\n    strings,\n    parseDateFromString,\n    onSelectDate,\n    formatDate,\n    minDate,\n    maxDate,\n  }: IDatePickerProps,\n  selectedDate: Date | undefined,\n  setSelectedDate: (date: Date | undefined) => void,\n  inputValue: string,\n  isCalendarShown: boolean,\n) {\n  const [errorMessage, setErrorMessage] = React.useState<string | undefined>();\n  const [statusMessage, setStatusMessage] = React.useState<string | undefined>();\n\n  const validateTextInput = (date: Date | null = null): void => {\n    if (allowTextInput) {\n      if (inputValue || date) {\n        // Don't parse if the selected date has the same formatted string as what we're about to parse.\n        // The formatted string might be ambiguous (ex: \"1/2/3\" or \"New Year Eve\") and the parser might\n        // not be able to come up with the exact same date.\n        if (selectedDate && !errorMessage && formatDate && formatDate(date ?? selectedDate) === inputValue) {\n          return;\n        }\n        date = date || parseDateFromString!(inputValue);\n\n        // Check if date is null, or date is Invalid Date\n        if (!date || isNaN(date.getTime())) {\n          // Reset invalid input field, if formatting is available\n          setSelectedDate(selectedDate);\n          // default the newer isResetStatusMessage string to invalidInputErrorMessage for legacy support\n          const selectedText = formatDate ? formatDate(selectedDate) : '';\n          const statusText = strings!.isResetStatusMessage\n            ? format(strings!.isResetStatusMessage, inputValue, selectedText)\n            : strings!.invalidInputErrorMessage || '';\n          setStatusMessage(statusText);\n        } else {\n          // Check against optional date boundaries\n          if (isDateOutOfBounds(date, minDate, maxDate)) {\n            setErrorMessage(strings!.isOutOfBoundsErrorMessage || ' ');\n          } else {\n            setSelectedDate(date);\n            setErrorMessage(undefined);\n            setStatusMessage(undefined);\n          }\n        }\n      } else {\n        // Only show error for empty inputValue if it is a required field\n        setErrorMessage(isRequired ? strings!.isRequiredErrorMessage || ' ' : undefined);\n\n        // If no input date string or input date string is invalid\n        // date variable will be null, callback should expect null value for this case\n        onSelectDate?.(date);\n      }\n    } else if (isRequired && !inputValue) {\n      // Check when DatePicker is a required field but has NO input value\n      setErrorMessage(strings!.isRequiredErrorMessage || ' ');\n    } else {\n      // Cleanup the error message and status message\n      setErrorMessage(undefined);\n      setStatusMessage(undefined);\n    }\n  };\n\n  React.useEffect(() => {\n    if (isRequired && !selectedDate) {\n      setErrorMessage(strings!.isRequiredErrorMessage || ' ');\n    } else if (selectedDate && isDateOutOfBounds(selectedDate, minDate, maxDate)) {\n      setErrorMessage(strings!.isOutOfBoundsErrorMessage || ' ');\n    } else {\n      setErrorMessage(undefined);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    // We don't want to compare the date itself, since two instances of date at the same time are not equal\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    minDate && getDatePartHashValue(minDate),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    maxDate && getDatePartHashValue(maxDate),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    selectedDate && getDatePartHashValue(selectedDate),\n    isRequired,\n  ]);\n\n  return [\n    isCalendarShown ? undefined : errorMessage,\n    validateTextInput,\n    setErrorMessage,\n    isCalendarShown ? undefined : statusMessage,\n    setStatusMessage,\n  ] as const;\n}\n\nexport const DatePickerBase: React.FunctionComponent<IDatePickerProps> = React.forwardRef<\n  HTMLDivElement,\n  IDatePickerProps\n>((propsWithoutDefaults, forwardedRef) => {\n  const props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n\n  const {\n    firstDayOfWeek,\n    strings,\n    label,\n    theme,\n    className,\n    styles,\n    initialPickerDate,\n    isRequired,\n    disabled,\n    ariaLabel,\n    pickerAriaLabel,\n    placeholder,\n    allowTextInput,\n    borderless,\n    minDate,\n    maxDate,\n    showCloseButton,\n    calendarProps,\n    calloutProps,\n    textField: textFieldProps,\n    underlined,\n    allFocusable,\n    calendarAs: CalendarType = Calendar,\n    tabIndex,\n    disableAutoFocus = true,\n  } = props;\n\n  const id = useId('DatePicker', props.id);\n  const calloutId = useId('DatePicker-Callout');\n\n  const calendar = React.useRef<ICalendar>(null);\n  const datePickerDiv = React.useRef<HTMLDivElement>(null);\n\n  const [textFieldRef, focus, preventFocusOpeningPicker, preventNextFocusOpeningPicker] = useFocusLogic();\n  const [isCalendarShown, setIsCalendarShown] = useCalendarVisibility(props, focus);\n  const [selectedDate, formattedDate, setSelectedDate, setFormattedDate] = useSelectedDate(props);\n  const [errorMessage, validateTextInput, setErrorMessage, statusMessage, setStatusMessage] = useErrorMessage(\n    props,\n    selectedDate,\n    setSelectedDate,\n    formattedDate,\n    isCalendarShown,\n  );\n\n  const showDatePickerPopup = React.useCallback((): void => {\n    if (!isCalendarShown) {\n      preventNextFocusOpeningPicker();\n      setIsCalendarShown(true);\n    }\n  }, [isCalendarShown, preventNextFocusOpeningPicker, setIsCalendarShown]);\n\n  React.useImperativeHandle(\n    props.componentRef,\n    () => ({\n      focus,\n      reset() {\n        setIsCalendarShown(false);\n        setSelectedDate(undefined);\n        setErrorMessage(undefined);\n        setStatusMessage(undefined);\n      },\n      showDatePickerPopup,\n    }),\n    [focus, setErrorMessage, setIsCalendarShown, setSelectedDate, setStatusMessage, showDatePickerPopup],\n  );\n\n  const onTextFieldFocus = (): void => {\n    if (disableAutoFocus) {\n      return;\n    }\n\n    if (!allowTextInput) {\n      if (!preventFocusOpeningPicker.current) {\n        showDatePickerPopup();\n      }\n      preventFocusOpeningPicker.current = false;\n    }\n  };\n\n  const onSelectDate = (date: Date): void => {\n    if (props.calendarProps && props.calendarProps.onSelectDate) {\n      props.calendarProps.onSelectDate(date);\n    }\n\n    calendarDismissed(date);\n  };\n\n  const onCalloutPositioned = (): void => {\n    let shouldFocus = true;\n    // If the user has specified that the callout shouldn't use initial focus, then respect\n    // that and don't attempt to set focus. That will default to true within the callout\n    // so we need to check if it's undefined here.\n    if (props.calloutProps && props.calloutProps.setInitialFocus !== undefined) {\n      shouldFocus = props.calloutProps.setInitialFocus;\n    }\n    if (calendar.current && shouldFocus) {\n      calendar.current.focus();\n    }\n  };\n\n  const onTextFieldBlur = (ev: React.FocusEvent<HTMLElement>): void => {\n    validateTextInput();\n  };\n\n  const onTextFieldChanged = (ev: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, newValue: string): void => {\n    const { textField } = props;\n\n    if (allowTextInput) {\n      if (isCalendarShown) {\n        dismissDatePickerPopup();\n      }\n\n      setFormattedDate(newValue);\n    }\n\n    textField?.onChange?.(ev, newValue);\n  };\n\n  const onTextFieldKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    // eslint-disable-next-line deprecation/deprecation\n    switch (ev.which) {\n      case KeyCodes.enter:\n        ev.preventDefault();\n        ev.stopPropagation();\n        if (!isCalendarShown) {\n          validateTextInput();\n          showDatePickerPopup();\n        } else {\n          // When DatePicker allows input date string directly,\n          // it is expected to hit another enter to close the popup\n          if (props.allowTextInput) {\n            dismissDatePickerPopup();\n          }\n        }\n        break;\n\n      case KeyCodes.escape:\n        handleEscKey(ev);\n        break;\n\n      case KeyCodes.down:\n        if (ev.altKey && !isCalendarShown) {\n          showDatePickerPopup();\n        }\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const onTextFieldClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    // default openOnClick to !props.disableAutoFocus for legacy support of disableAutoFocus behavior\n    const openOnClick = props.openOnClick || !props.disableAutoFocus;\n    if (openOnClick && !isCalendarShown && !props.disabled) {\n      showDatePickerPopup();\n      return;\n    }\n    if (props.allowTextInput) {\n      dismissDatePickerPopup();\n    }\n  };\n\n  const onIconClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    ev.stopPropagation();\n    if (!isCalendarShown && !props.disabled) {\n      showDatePickerPopup();\n    } else if (props.allowTextInput) {\n      dismissDatePickerPopup();\n    }\n  };\n\n  const dismissDatePickerPopup = (newlySelectedDate?: Date): void => {\n    if (isCalendarShown) {\n      setIsCalendarShown(false);\n\n      validateTextInput(newlySelectedDate);\n      if (!allowTextInput && newlySelectedDate) {\n        setSelectedDate(newlySelectedDate);\n      }\n    }\n  };\n\n  const renderTextfieldDescription = (inputProps: ITextFieldProps, defaultRender: IRenderFunction<ITextFieldProps>) => {\n    return (\n      <>\n        {inputProps.description ? defaultRender(inputProps) : null}\n        <div aria-live=\"assertive\" className={classNames.statusMessage}>\n          {statusMessage}\n        </div>\n      </>\n    );\n  };\n\n  const renderReadOnlyInput: ITextFieldProps['onRenderInput'] = inputProps => {\n    const divProps = getNativeProps(inputProps!, divProperties);\n\n    // Talkback on Android treats readonly inputs as disabled, so swipe gestures to open the Calendar\n    // don't register. Workaround is rendering a div with role=\"combobox\" (passed in via TextField props).\n    return (\n      <div {...divProps} className={css(divProps.className, classNames.readOnlyTextField)} tabIndex={tabIndex || 0}>\n        {formattedDate || (\n          // Putting the placeholder in a separate span fixes specificity issues for the text color\n          <span className={classNames.readOnlyPlaceholder}>{placeholder}</span>\n        )}\n      </div>\n    );\n  };\n\n  /**\n   * Callback for closing the calendar callout\n   */\n  const calendarDismissed = (newlySelectedDate?: Date): void => {\n    preventNextFocusOpeningPicker();\n    dismissDatePickerPopup(newlySelectedDate);\n    // don't need to focus the text box, if necessary the focusTrapZone will do it\n  };\n\n  const calloutDismissed = (ev: React.MouseEvent<HTMLElement>): void => {\n    calendarDismissed();\n  };\n\n  const handleEscKey = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (isCalendarShown) {\n      ev.stopPropagation();\n      calendarDismissed();\n    }\n  };\n\n  const classNames = getClassNames(styles, {\n    theme: theme!,\n    className,\n    disabled,\n    underlined,\n    label: !!label,\n    isDatePickerShown: isCalendarShown,\n  });\n\n  const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(props, divProperties, ['value']);\n  const iconProps = textFieldProps && textFieldProps.iconProps;\n  const textFieldId =\n    textFieldProps && textFieldProps.id && textFieldProps.id !== id ? textFieldProps.id : id + '-label';\n  const readOnly = !allowTextInput && !disabled;\n\n  return (\n    <div {...nativeProps} className={classNames.root} ref={forwardedRef}>\n      <div ref={datePickerDiv} aria-owns={isCalendarShown ? calloutId : undefined} className={classNames.wrapper}>\n        <TextField\n          role=\"combobox\"\n          label={label}\n          aria-expanded={isCalendarShown}\n          ariaLabel={ariaLabel}\n          aria-haspopup=\"dialog\"\n          aria-controls={isCalendarShown ? calloutId : undefined}\n          required={isRequired}\n          disabled={disabled}\n          errorMessage={errorMessage}\n          placeholder={placeholder}\n          borderless={borderless}\n          value={formattedDate}\n          componentRef={textFieldRef}\n          underlined={underlined}\n          tabIndex={tabIndex}\n          readOnly={!allowTextInput}\n          {...textFieldProps}\n          id={textFieldId}\n          className={css(classNames.textField, textFieldProps && textFieldProps.className)}\n          iconProps={{\n            iconName: 'Calendar',\n            ...iconProps,\n            className: css(classNames.icon, iconProps && iconProps.className),\n            onClick: onIconClick,\n          }}\n          // eslint-disable-next-line react/jsx-no-bind\n          onRenderDescription={renderTextfieldDescription}\n          // eslint-disable-next-line react/jsx-no-bind\n          onKeyDown={onTextFieldKeyDown}\n          // eslint-disable-next-line react/jsx-no-bind\n          onFocus={onTextFieldFocus}\n          // eslint-disable-next-line react/jsx-no-bind\n          onBlur={onTextFieldBlur}\n          // eslint-disable-next-line react/jsx-no-bind\n          onClick={onTextFieldClick}\n          // eslint-disable-next-line react/jsx-no-bind\n          onChange={onTextFieldChanged}\n          onRenderInput={readOnly ? renderReadOnlyInput : undefined}\n        />\n      </div>\n      {isCalendarShown && (\n        <Callout\n          id={calloutId}\n          role=\"dialog\"\n          ariaLabel={pickerAriaLabel}\n          isBeakVisible={false}\n          gapSpace={0}\n          doNotLayer={false}\n          target={datePickerDiv.current}\n          directionalHint={DirectionalHint.bottomLeftEdge}\n          {...calloutProps}\n          className={css(classNames.callout, calloutProps && calloutProps.className)}\n          // eslint-disable-next-line react/jsx-no-bind\n          onDismiss={calloutDismissed}\n          // eslint-disable-next-line react/jsx-no-bind\n          onPositioned={onCalloutPositioned}\n        >\n          <FocusTrapZone isClickableOutsideFocusTrap={true} disableFirstFocus={disableAutoFocus}>\n            <CalendarType\n              {...calendarProps}\n              // eslint-disable-next-line react/jsx-no-bind\n              onSelectDate={onSelectDate}\n              // eslint-disable-next-line react/jsx-no-bind\n              onDismiss={calendarDismissed}\n              isMonthPickerVisible={props.isMonthPickerVisible}\n              showMonthPickerAsOverlay={props.showMonthPickerAsOverlay}\n              today={props.today}\n              value={selectedDate || initialPickerDate}\n              firstDayOfWeek={firstDayOfWeek}\n              strings={strings!}\n              highlightCurrentMonth={props.highlightCurrentMonth}\n              highlightSelectedMonth={props.highlightSelectedMonth}\n              showWeekNumbers={props.showWeekNumbers}\n              firstWeekOfYear={props.firstWeekOfYear}\n              showGoToToday={props.showGoToToday}\n              dateTimeFormatter={props.dateTimeFormatter}\n              minDate={minDate}\n              maxDate={maxDate}\n              componentRef={calendar}\n              showCloseButton={showCloseButton}\n              allFocusable={allFocusable}\n            />\n          </FocusTrapZone>\n        </Callout>\n      )}\n    </div>\n  );\n});\nDatePickerBase.displayName = 'DatePickerBase';\n\nfunction isDateOutOfBounds(date: Date, minDate?: Date, maxDate?: Date): boolean {\n  return (!!minDate && compareDatePart(minDate!, date) > 0) || (!!maxDate && compareDatePart(maxDate!, date) < 0);\n}\n"]},"metadata":{},"sourceType":"module"}